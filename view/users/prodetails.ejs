<%- include('../layouts/header.ejs') %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <body style="background-color: lightgrey;">

        <div class="container-fluid">
            <div class="row bg-secondary py-2 px-xl-5">
                <div class="col-lg-6 d-none d-lg-block">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-dark" href="">FAQs</a>
                        <span class="text-muted px-2">|</span>
                        <a class="text-dark" href="">Help</a>
                        <span class="text-muted px-2">|</span>
                        <a class="text-dark" href="">Support</a>
                    </div>
                </div>
                <div class="col-lg-6 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a class="text-dark pl-2" href="">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="row align-items-center py-3 px-xl-5">
                <div class="col-lg-3 d-none d-lg-block bg-dark" style="box-shadow: 5px 5px 5px 3px rgb(73, 72, 59) ">
                    <a href="" class="text-decoration-none text-center ">
                        <h1 class="m-0 display-5 font-weight-semi-bold text-primary"><span
                                class="text-light bg-primary font-weight-bold border px-3 mr-1">e-</span>Fa</h1>
                        <span class=" d-flex justify-content-center">Fashion World</span>
                    </a>
                </div>
                <div class="col-lg-6 col-6 text-left">
                    <form action="/search" method="post">
                        <div class="input-group">
                            <% if(search!=null){ %>
                                <input type="text" class="form-control" name="search" placeholder="<%= search %>">
                                <div class="input-group-append">
                                    <button class="input-group-text bg-primary text-secondary" type="submit">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                                <% }else{ %>
                                    <input type="text" class="form-control" name="search"
                                        placeholder="Search for products">
                                    <div class="input-group-append">
                                        <button class="input-group-text bg-primary text-secondary" type="submit">
                                            <i class="fa fa-search"></i>
                                        </button>
                                    </div>
                                    <% } %>

                        </div>
                    </form>
                </div>
                <div class="col-lg-3 col-6 text-right">
                    <a href="" class="btn border">
                        <i class="fas fa-heart text-primary"></i>
                        <span class="badge">0</span>
                    </a>
                    <a href="" class="btn border">
                        <i class="fas fa-shopping-cart text-primary"></i>
                        <span class="badge">0</span>
                    </a>
                </div>
            </div>
        </div>


        <!-- Navbar Start -->
        <div class="container-fluid">
            <div class="row border-top px-xl-5">
                <div class="col-lg-3 d-none d-lg-block">
                    <div class="dropdown">
                        <button
                            class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100 mt-5"
                            type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"
                            style="height: 65px; margin-top: -1px; padding: 0 30px;">
                            <h6 class="m-0">Categories</h6>
                            <i class="fa fa-angle-down text-light"></i>
                        </button>
                        <ul class="dropdown-menu bg-dark text-uppercase w-100 " aria-labelledby="dropdownMenuButton1"
                            style="border: none;">
                            <% for(i=0;i<categoryDetails.length;i++) { %>
                                <a href="/categoryShop?categoryid=<%= categoryDetails[i]._id %>"
                                    class="nav-item nav-link text-primary">
                                    <%= categoryDetails[i].category_name %>
                                </a>
                                <% } %>

                        </ul>
                    </div>
                </div>
                <div class="col-lg-9 mt-5">
                    <nav class="navbar navbar-expand-lg navbar-light py-3 py-lg-0 px-0"
                        style="background-color: lightgray;">
                        <a href="" class="text-decoration-none d-block d-lg-none">
                            <h1 class="m-0 display-5 font-weight-semi-bold"><span
                                    class="text-primary font-weight-bold border px-3 mr-1">e-</span>Fa</h1>
                        </a>
                        <button type="button" class="navbar-toggler" data-toggle="collapse"
                            data-target="#navbarCollapse">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                            <div class="navbar-nav mr-auto py-0">
                                <a href="/home" class="nav-item nav-link ">
                                    <h6 class="nav-link">Home</h6>
                                </a>
                                <a href="/shop" class="nav-item nav-link ">
                                    <h6 class="nav-link">Shop</h6>
                                </a>

                                <a href="/userProfile" class="nav-item nav-link">
                                    <h6 class="nav-link">Profile</h6>
                                </a>
                            </div>
                            <div class="navbar-nav ml-auto py-0">
                                <% if(islogin){ %>
                                    <a href="/logout" class="nav-item nav-link">Logout</a>
                                    <% }else{ %>
                                        <a href="/login" class="nav-item nav-link">Login</a>
                                        <a href="/signup" class="nav-item nav-link">Register</a>
                                        <% } %>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </div>



        <!-- Product Details -->

        <div class="container-fluid py-5">
            <div class="row px-xl-5">
                <div class="col-lg-5 pb-5">


                    <div id="product-carousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner border">
                            <div class="carousel-item active">
                                <img class="w-100 h-100" src="product-images/<%= productDetails.images[0] %>"
                                    alt="Image">
                            </div>
                            <% for(let i=1;i<productDetails.images.length;i++){ %>
                                <div class="carousel-item ">
                                    <img class="w-100 h-100" src="product-images/<%= productDetails.images[i]%>"
                                        alt="Image">
                                </div>

                                <% } %>
                        </div>
                        <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
                            <i class="fa fa-2x fa-angle-left text-primary"></i>
                        </a>
                        <a class="carousel-control-next" href="#product-carousel" data-slide="next">
                            <i class="fa fa-2x fa-angle-right text-primary"></i>
                        </a>
                    </div>

                </div>




                <div class="col-lg-7 pb-5">
                    <h3 class="font-weight-semi-bold">
                        <%= productDetails.product_name %>
                    </h3>
                    <div class="d-flex mb-3">
                        <div class="text-primary mr-2">
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star-half-alt"></small>
                            <small class="far fa-star"></small>
                        </div>
                        <small class="pt-1">(50 Reviews)</small>
                    </div>

                    <h3 class="font-weight-semi-bold mb-4">
                        $ <%= productDetails.price %>


                    </h3>
                    <h6 class="text-muted "><del>$<%= productDetails.price+100 %></del></h6>
                    <p class="mb-4 text-dark">Volup erat ipsum diam elitr rebum et dolor. Est nonumy elitr erat diam
                        stet
                        sit
                        clita ea. Sanc invidunt ipsum et, labore clita lorem magna lorem ut. Erat lorem duo dolor no sea
                        nonumy. Accus labore stet, est lorem sit diam sea et justo, amet at lorem et eirmod ipsum diam
                        et rebum kasd rebum.</p>

                    <div class="d-flex align-items-center mb-4 pt-2">
                        <div class="input-group quantity mr-3" style="width: 130px;">
                            <div class="input-group-btn">
                                <button class="btn btn-primary btn-minus">
                                    <i class="fa fa-minus"></i>
                                </button>
                            </div>
                            <input type="text" class="form-control bg-secondary text-center" value="1">
                            <div class="input-group-btn">
                                <button class="btn btn-primary btn-plus">
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <a href="/addToCart?id=<%= productDetails._id %>" class="btn btn-primary px-3"><i
                                class="fa fa-shopping-cart mr-1"></i> Add
                            To
                            Cart</a>

                        <button type="button" href="" class="btn btn-primary px-3 ml-3"
                            onclick="addtowishlist('<%=productDetails._id%>')"><i
                                class="fa-regular fa-heart "></i></button>
                        <!-- <button type="button" href="" class="btn btn-primary px-3 ml-3"
                            onclick="removeWishlist('<%=productDetails._id%>')"><i
                                class="fa-regular fa-heart text-danger"></i></button> -->
                    </div>
                    <div class="d-flex pt-2">
                        <p class="text-dark font-weight-medium mb-0 mr-2">Share on:</p>
                        <div class="d-inline-flex">
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-pinterest"></i>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
            <div class="row px-xl-5">
                <div class="col">
                    <div class="nav nav-tabs justify-content-center border-secondary mb-4">
                        <a class="nav-item nav-link active" data-toggle="tab" href="#tab-pane-1">Description</a>
                        <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-2">Information</a>
                        <a class="nav-item nav-link" data-toggle="tab" href="#tab-pane-3">Reviews (0)</a>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="tab-pane-1">
                            <h4 class="mb-3">Product Description</h4>
                            <p>Eos no lorem eirmod diam diam, eos elitr et gubergren diam sea. Consetetur vero
                                aliquyam
                                invidunt duo dolores et duo sit. Vero diam ea vero et dolore rebum, dolor rebum
                                eirmod
                                consetetur invidunt sed sed et, lorem duo et eos elitr, sadipscing kasd ipsum rebum
                                diam. Dolore diam stet rebum sed tempor kasd eirmod. Takimata kasd ipsum accusam
                                sadipscing, eos dolores sit no ut diam consetetur duo justo est, sit sanctus diam
                                tempor
                                aliquyam eirmod nonumy rebum dolor accusam, ipsum kasd eos consetetur at sit rebum,
                                diam
                                kasd invidunt tempor lorem, ipsum lorem elitr sanctus eirmod takimata dolor ea
                                invidunt.
                            </p>
                            <p>Dolore magna est eirmod sanctus dolor, amet diam et eirmod et ipsum. Amet dolore
                                tempor
                                consetetur sed lorem dolor sit lorem tempor. Gubergren amet amet labore sadipscing
                                clita
                                clita diam clita. Sea amet et sed ipsum lorem elitr et, amet et labore voluptua sit
                                rebum. Ea erat sed et diam takimata sed justo. Magna takimata justo et amet magna
                                et.
                            </p>
                        </div>
                        <div class="tab-pane fade" id="tab-pane-2">
                            <h4 class="mb-3">Additional Information</h4>
                            <p>Eos no lorem eirmod diam diam, eos elitr et gubergren diam sea. Consetetur vero
                                aliquyam
                                invidunt duo dolores et duo sit. Vero diam ea vero et dolore rebum, dolor rebum
                                eirmod
                                consetetur invidunt sed sed et, lorem duo et eos elitr, sadipscing kasd ipsum rebum
                                diam. Dolore diam stet rebum sed tempor kasd eirmod. Takimata kasd ipsum accusam
                                sadipscing, eos dolores sit no ut diam consetetur duo justo est, sit sanctus diam
                                tempor
                                aliquyam eirmod nonumy rebum dolor accusam, ipsum kasd eos consetetur at sit rebum,
                                diam
                                kasd invidunt tempor lorem, ipsum lorem elitr sanctus eirmod takimata dolor ea
                                invidunt.
                            </p>
                        </div>
                        <div class="tab-pane fade" id="tab-pane-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="mb-4">1 review for "Colorful Stylish Shirt"</h4>
                                    <div class="media mb-4">
                                        <img src="img/user.jpg" alt="Image" class="img-fluid mr-3 mt-1"
                                            style="width: 45px;">
                                        <div class="media-body">
                                            <h6>John Doe<small> - <i>01 Jan 2045</i></small></h6>
                                            <div class="text-primary mb-2">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star-half-alt"></i>
                                                <i class="far fa-star"></i>
                                            </div>
                                            <p>Diam amet duo labore stet elitr ea clita ipsum, tempor labore accusam
                                                ipsum et no at. Kasd diam tempor rebum magna dolores sed sed eirmod
                                                ipsum.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="mb-4">Leave a review</h4>
                                    <small>Your email address will not be published. Required fields are marked
                                        *</small>
                                    <div class="d-flex my-3">
                                        <p class="mb-0 mr-2">Your Rating * :</p>
                                        <div class="text-primary">
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <form>
                                        <div class="form-group">
                                            <label for="message">Your Review *</label>
                                            <textarea id="message" cols="30" rows="5" class="form-control"></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="name">Your Name *</label>
                                            <input type="text" class="form-control" id="name">
                                        </div>
                                        <div class="form-group">
                                            <label for="email">Your Email *</label>
                                            <input type="email" class="form-control" id="email">
                                        </div>
                                        <div class="form-group mb-0">
                                            <input type="submit" value="Leave Your Review" class="btn btn-primary px-3">
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Shop Detail End -->

        <script>
            function addtowishlist(id) {
                console.log("//////////////");
                $.ajax({
                    type: "GET",
                    url: `/addToWishlist?id=${id}`,
                    success: function (data) {
                        if (data.success) {
                            swal({
                                title: "success",
                                text: data.success,
                                icon: "success",
                                button: "oh yes!",
                            });
                        } else {
                            location.href = '/login'
                        }
                        if (data.isDuplicate) {
                            $('.fa-heart').addClass('text-danger')

                        }
                    },
                    error: function (data) {
                        console.log(error);
                    }
                });
            }

            // function removeWishlist(id) {
            //     console.log("***********");
            //     $.ajax({
            //         type: "GET",
            //         url: `/removeWishlist?id=${id}`,
            //         success: function (data) {
            //             if (data.success) {
            //                 swal({
            //                     title: "success",
            //                     text: data.success,
            //                     icon: "success",
            //                     button: "oh yes!",
            //                 });
            //             } else {
            //                 location.href = '/login'
            //             }
            //             if (data.isDuplicate) {
            //                 $('.fa-heart').addClass('text-light')

            //             }
            //         },
            //         error: function (data) {
            //             console.log(error);
            //         }
            //     });
            // }
        </script>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

        <%- include('../layouts/footer.ejs') %>